// Generated by CoffeeScript 1.6.3
var Event, Events, Footer, Header, Home, Login, Main;

Main = function($scope, $rootScope, $rootElement, $route) {
  $scope.updateCurrentSection = function(current) {
    return $scope.activeSection = (current != null) && (current.params.filterType != null) ? current.params.filterType : "home";
  };
  $scope.$on("$routeChangeStart", function(prev, current) {
    $scope.updateCurrentSection(current);
    return $rootElement.attr("class", current.$$route.controller.toLowerCase());
  });
  return $scope.updateCurrentSection($route.current);
};

Header = function() {
  return $(".main-region").css("padding-top", $(".header-region").outerHeight());
};

Footer = function() {
  return $(".main-region").css("padding-bottom", $(".footer-region").height());
};

Home = function($scope, $http) {
  $scope.loading = true;
  return $http.get(Nscf.apiUrl + "events/today").success(function(data) {
    $scope.events = data;
    return $scope.loading = false;
  });
};

Events = function($scope, $routeParams, $http) {
  $scope.loading = true;
  $http.get(Nscf.apiUrl + "events/filter/" + $scope.activeSection).success(function(data) {
    $scope.events = data;
    return $scope.loading = false;
  });
  $(".events-container .nav-tabs a").click(function(event) {
    event.preventDefault();
    return $(this).tab("show");
  });
  $("html").addClass("main-view-static");
  return $(".events-container .tab-content").height($(".main-view").height() - $(".events-container .nav-tabs").outerHeight());
};

Event = function($scope, $routeParams, $http) {
  $scope.loading = true;
  $http.get(Nscf.apiUrl + "/event&id=" + $routeParams.id).success(function(data) {
    $scope.ev = data;
    return $scope.loading = false;
  });
  return $scope.getDay = function(data) {
    return data.split("/")[0];
  };
};

Login = function($scope) {
  return false;
};
